package com.lqh.alipay;import java.util.Map;import android.text.TextUtils;/** * 确定结果 * @author Administrator * */public class AuthResult {	private String resultStatus;//结果状态	private String result;  //结果	private String memo;    //备忘录	private String resultCode;  //结果码	private String authCode;   //确认码	private String alipayOpenId;  //支付宝开放id	public AuthResult(Map<String, String> rawResult, boolean removeBrackets) {		if (rawResult == null) { //传入的结果为map不为空 才往下进行			return;		}		for (String key : rawResult.keySet()) {			if (TextUtils.equals(key, "resultStatus")) {//获取传入map中的键值对为resultStatus的值放入到resultStatus中（结果状态信息）				resultStatus = rawResult.get(key);			} else if (TextUtils.equals(key, "result")) {//获取传入map中的键值对的结果				result = rawResult.get(key);			} else if (TextUtils.equals(key, "memo")) { //获取传入map中的备注（备忘录				memo = rawResult.get(key);			}		}		String[] resultValue = result.split("&");  //将结果用&符号拆分		for (String value : resultValue) {			if (value.startsWith("alipay_open_id")) {				//如果以alipay_open_id(支付宝开放id)开始的                //此时的value是以alipay_open_id开头的值；支付宝的开放id=截取到的alipay_open_id字串去除括号				alipayOpenId = removeBrackets(getValue("alipay_open_id=", value), removeBrackets);				continue;			}			if (value.startsWith("auth_code")) {				authCode = removeBrackets(getValue("auth_code=", value), removeBrackets);				continue;			}			if (value.startsWith("result_code")) {				resultCode = removeBrackets(getValue("result_code=", value), removeBrackets);				continue;			}		}	}	    /**     * 移除括号的方法     * @param str 传入的字符串     * @param remove 移除吗？     * @return 返回处理过后的字符串     */	private String removeBrackets(String str, boolean remove) {		if (remove) {			if (!TextUtils.isEmpty(str)) {				if (str.startsWith("\"")) {					str = str.replaceFirst("\"", "");				}				if (str.endsWith("\"")) {					str = str.substring(0, str.length() - 1);				}			}		}		return str;	}	@Override	public String toString() {		return "resultStatus={" + resultStatus + "};memo={" + memo + "};result={" + result + "}";	}	/**     * 获取值得方法     * @param header 头部字符串     * @param data 数据字符串     * @return      */	private String getValue(String header, String data) {		return data.substring(header.length(), data.length());	}	/**     * 获取String类型的结果状态     * @return the resultStatus     */	public String getResultStatus() {		return resultStatus;	}	/**     * 获取备注     * @return the memo     */	public String getMemo() {		return memo;	}	 /**     * 获取结果     * @return the result     */	public String getResult() {		return result;	}	 /**     * 获取结果码     * @return the resultCode     */	public String getResultCode() {		return resultCode;	}	 /**     * 获取确认码     * @return the authCode     */	public String getAuthCode() {		return authCode;	}	 /**     * 获取支付宝开放支付ID     * @return the alipayOpenId     */	public String getAlipayOpenId() {		return alipayOpenId;	}}